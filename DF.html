<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daftar product</title>
    <style>
        body {
            font-family: 'Times New Roman', Times, serif;
            margin: 30px;
        }
        .product {
            border: 1px solid #ccc;
            padding: 10px;
            margin-bottom: 10px;
        }
        .add-to-cart{
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 10px;
            cursor: pointer;
        }
        .add-to-cart:hover {
            background-color: #45a049;
        }

        .view-cart {
            background-color: #2196F3;
            color: white;
            border: none;
            padding: 10px;
            cursor: pointer;
            margin-top: 20px;
        }

        .view-cart:hover {
            background-color: #1976D2;
        }

        .product img {
            width: 300px; 
            height: 200px; 
            object-fit: cover;
            margin-right: 10px;
        }

        #cart-view {
            display: none;
            margin-top: 20px;
            border: 1px solid #ccc;
            padding: 10px;
        }

    </style>
</head>
<body>
    <h1>Daftar Product</h1>
    <div id="product-list"></div>
    <button class="view-cart" onclick="viewCart()">Lihat Keranjang</button>

    <div id=""Cart-view>
        <h2>keranjang Belanja</h2>
        <div id="cart-items"></div>
        <p id="total-price">Total harga: Rp 0</p>
        <button onclick="closeCart">Tutup keranjang</button>
    </div>


<script>
    const product = [
        { name: "Teh manis hangat", price: 5000, image: "https://dcostseafood.id/wp-content/uploads/2021/12/Teh-tawar-manis.jpg"},
        { name: "Kopi", price: 7000, image: "https://upload.wikimedia.org/wikipedia/commons/8/8c/Cup_of_coffee_(1).jpg"},
        { name: "Keripik singkong pedas", price: 5000, image: "https://img-global.cpcdn.com/recipes/89f380074570360e/751x532cq70/keripik-singkong-pedas-manis-foto-resep-utama.jpg"},
        { name: "Nasi goreng ibu", price: 300000, image: "https://spicebreeze.com/wp-content/uploads/2018/03/Nasi-Goreng-form-sq.jpg"}
    ];

    const cart = [];

    function addToCart(product) {
        cart.push(product);
        alert(`${product.name}telah ditambahkan ke keranjang!`);
    }

    function displayProduct() {
        const productList = document.getElementById('product-list');
        product.forEach(product => {
            const productDiv = document.createElement('div');
            productDiv.className = 'product';
            productDiv.innerHTML = `
                <img src="${product.image}" alt="${product.name}">
                <div>
                <h3>${product.name}</h3>
                <p>Harga: Rp ${product.price}</p>
                <button class="add-to-cart" onclick='addToCart(${JSON.stringify(product)})'>Tambah keranjang</button>
                </div>
                `;

                const addToCartButton = productDiv.querySelector('.add-to-cart');
                addToCartButton.onclick = function() {
                addToCart(product);
            };

                productList.appendChild(productDiv);
        });
    }

    function viewCart() {
        const cartView = document.getElementById('cart-view');
        const cartItems = document.getElementById('cart-items');
        const totalPriceElement = document.getElementById('total-price')
        cartItems.innerHTML = '';
        let totalPrice = 0;

        if (cart.length === 0) {
            cartItems.innerHTML = '<p>Keranjang Anda kosong.</p>';
        } else {
            cart.forEach((item, index) => {
            totalPrice += item.price;
                cartItems.innerHTML += `
                    <div>
                        ${item.name} - Rp ${item.price} 
                        <button onclick="removeFromCart(${index})">Hapus</button>
                    </div>`;
            });
        }

        totalPriceElement.innerHTML = `Total Harga: Rp ${totalPrice}`;
        cartView.style.display = 'block';
    }

    function removeFromCart(index) {
        const removedItem = cart.splice(index, 1);
        alert(`${removedItem[0].name} telah dihapus dari keranjang!`);
        viewCart();
    }

    function closeCart() {
        document.getElementById('cart-view').style.display = 'none';
    }

    displayProduct();
</script>
</body>
</html>